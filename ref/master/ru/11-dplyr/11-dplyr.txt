
# -----------------  dplyr.R -------------------------------------
> suppressPackageStartupMessages(library(dplyr))

> suppressPackageStartupMessages(library(summarytools))

> suppressPackageStartupMessages(library(magrittr))

> suppressPackageStartupMessages(library(forcats))

> options(tibble.print_max = Inf)

> data(tobacco)

> (fr1 <- tobacco %>% select(age.gr, gender, smoker) %>% freq())
Частота  
tobacco$age.gr  
Тип: склейка  

              Част.   % корр.   % корр. сумм.   % сумма   % совокупной суммы
----------- ------- --------- --------------- --------- --------------------
      18-34     258     26.46           26.46     25.80                25.80
      35-50     241     24.72           51.18     24.10                49.90
      51-70     317     32.51           83.69     31.70                81.60
       71 +     159     16.31          100.00     15.90                97.50
       <NA>      25                                2.50               100.00
      сумма    1000    100.00          100.00    100.00               100.00

tobacco$gender  
Тип: склейка  

              Част.   % корр.   % корр. сумм.   % сумма   % совокупной суммы
----------- ------- --------- --------------- --------- --------------------
          F     489     50.00           50.00     48.90                48.90
          M     489     50.00          100.00     48.90                97.80
       <NA>      22                                2.20               100.00
      сумма    1000    100.00          100.00    100.00               100.00

tobacco$smoker  
Тип: склейка  

              Част.   % корр.   % корр. сумм.   % сумма   % совокупной суммы
----------- ------- --------- --------------- --------- --------------------
        Yes     298     29.80           29.80     29.80                29.80
         No     702     70.20          100.00     70.20               100.00
       <NA>       0                                0.00               100.00
      сумма    1000    100.00          100.00    100.00               100.00

# -----------------  fr1 %>% view()
> fr1 %>% print(file = "01-freqs-df.html")
Switching method to 'browser'
Output file written
Output file appended

> (fr2 <- tobacco %>% group_by(age.gr = fct_explicit_na(age.gr)) %>% freq(smoker, report.nas = FALSE))
Частота  
tobacco$smoker  
Тип: склейка  
Переменные: age.gr = 18-34  

              Част.        %   % суммы
----------- ------- -------- ---------
        Yes      74    28.68     28.68
         No     184    71.32    100.00
      сумма     258   100.00    100.00

Переменные: age.gr = 35-50  

              Част.        %   % суммы
----------- ------- -------- ---------
        Yes      72    29.88     29.88
         No     169    70.12    100.00
      сумма     241   100.00    100.00

Переменные: age.gr = 51-70  

              Част.        %   % суммы
----------- ------- -------- ---------
        Yes      99    31.23     31.23
         No     218    68.77    100.00
      сумма     317   100.00    100.00

Переменные: age.gr = 71 +  

              Част.        %   % суммы
----------- ------- -------- ---------
        Yes      45    28.30     28.30
         No     114    71.70    100.00
      сумма     159   100.00    100.00

Переменные: age.gr = (Missing)  

              Част.        %   % суммы
----------- ------- -------- ---------
        Yes       8    32.00     32.00
         No      17    68.00    100.00
      сумма      25   100.00    100.00

> fr2 %>% tb()
# A tibble: 10 x 5
   age.gr    smoker  freq   pct pct_cum
   <fct>     <fct>  <dbl> <dbl>   <dbl>
 1 18-34     Yes       74  5.74    5.74
 2 18-34     No       184 14.3    20   
 3 35-50     Yes       72  5.98   26.0 
 4 35-50     No       169 14.0    40   
 5 51-70     Yes       99  6.25   46.2 
 6 51-70     No       218 13.8    60   
 7 71 +      Yes       45  5.66   65.7 
 8 71 +      No       114 14.3    80   
 9 (Missing) Yes        8  6.4    86.4 
10 (Missing) No        17 13.6   100   

> fr2 %>% print(file = "02-freqs-group_by-1.html")
Switching method to 'browser'
Output file written
Output file appended

> (fr3 <- tobacco %>% group_by(age.gr = fct_explicit_na(age.gr), gender = fct_explicit_na(gender)) %>% freq(smoker))
Частота  
tobacco$smoker  
Тип: склейка  
Переменные: age.gr = 18-34, gender = F  

              Част.   % корр.   % корр. сумм.   % сумма   % совокупной суммы
----------- ------- --------- --------------- --------- --------------------
        Yes      34     27.64           27.64     27.64                27.64
         No      89     72.36          100.00     72.36               100.00
       <NA>       0                                0.00               100.00
      сумма     123    100.00          100.00    100.00               100.00

Переменные: age.gr = 18-34, gender = M  

              Част.   % корр.   % корр. сумм.   % сумма   % совокупной суммы
----------- ------- --------- --------------- --------- --------------------
        Yes      38     29.23           29.23     29.23                29.23
         No      92     70.77          100.00     70.77               100.00
       <NA>       0                                0.00               100.00
      сумма     130    100.00          100.00    100.00               100.00

Переменные: age.gr = 18-34, gender = (Missing)  

              Част.   % корр.   % корр. сумм.   % сумма   % совокупной суммы
----------- ------- --------- --------------- --------- --------------------
        Yes       2     40.00           40.00     40.00                40.00
         No       3     60.00          100.00     60.00               100.00
       <NA>       0                                0.00               100.00
      сумма       5    100.00          100.00    100.00               100.00

Переменные: age.gr = 35-50, gender = F  

              Част.   % корр.   % корр. сумм.   % сумма   % совокупной суммы
----------- ------- --------- --------------- --------- --------------------
        Yes      39     33.05           33.05     33.05                33.05
         No      79     66.95          100.00     66.95               100.00
       <NA>       0                                0.00               100.00
      сумма     118    100.00          100.00    100.00               100.00

Переменные: age.gr = 35-50, gender = M  

              Част.   % корр.   % корр. сумм.   % сумма   % совокупной суммы
----------- ------- --------- --------------- --------- --------------------
        Yes      31     26.27           26.27     26.27                26.27
         No      87     73.73          100.00     73.73               100.00
       <NA>       0                                0.00               100.00
      сумма     118    100.00          100.00    100.00               100.00

Переменные: age.gr = 35-50, gender = (Missing)  

              Част.   % корр.   % корр. сумм.   % сумма   % совокупной суммы
----------- ------- --------- --------------- --------- --------------------
        Yes       2     40.00           40.00     40.00                40.00
         No       3     60.00          100.00     60.00               100.00
       <NA>       0                                0.00               100.00
      сумма       5    100.00          100.00    100.00               100.00

Переменные: age.gr = 51-70, gender = F  

              Част.   % корр.   % корр. сумм.   % сумма   % совокупной суммы
----------- ------- --------- --------------- --------- --------------------
        Yes      48     30.57           30.57     30.57                30.57
         No     109     69.43          100.00     69.43               100.00
       <NA>       0                                0.00               100.00
      сумма     157    100.00          100.00    100.00               100.00

Переменные: age.gr = 51-70, gender = M  

              Част.   % корр.   % корр. сумм.   % сумма   % совокупной суммы
----------- ------- --------- --------------- --------- --------------------
        Yes      48     31.79           31.79     31.79                31.79
         No     103     68.21          100.00     68.21               100.00
       <NA>       0                                0.00               100.00
      сумма     151    100.00          100.00    100.00               100.00

Переменные: age.gr = 51-70, gender = (Missing)  

              Част.   % корр.   % корр. сумм.   % сумма   % совокупной суммы
----------- ------- --------- --------------- --------- --------------------
        Yes       3     33.33           33.33     33.33                33.33
         No       6     66.67          100.00     66.67               100.00
       <NA>       0                                0.00               100.00
      сумма       9    100.00          100.00    100.00               100.00

Переменные: age.gr = 71 +, gender = F  

              Част.   % корр.   % корр. сумм.   % сумма   % совокупной суммы
----------- ------- --------- --------------- --------- --------------------
        Yes      21     27.27           27.27     27.27                27.27
         No      56     72.73          100.00     72.73               100.00
       <NA>       0                                0.00               100.00
      сумма      77    100.00          100.00    100.00               100.00

Переменные: age.gr = 71 +, gender = M  

              Част.   % корр.   % корр. сумм.   % сумма   % совокупной суммы
----------- ------- --------- --------------- --------- --------------------
        Yes      23     29.11           29.11     29.11                29.11
         No      56     70.89          100.00     70.89               100.00
       <NA>       0                                0.00               100.00
      сумма      79    100.00          100.00    100.00               100.00

Переменные: age.gr = 71 +, gender = (Missing)  

              Част.   % корр.   % корр. сумм.   % сумма   % совокупной суммы
----------- ------- --------- --------------- --------- --------------------
        Yes       1     33.33           33.33     33.33                33.33
         No       2     66.67          100.00     66.67               100.00
       <NA>       0                                0.00               100.00
      сумма       3    100.00          100.00    100.00               100.00

Переменные: age.gr = (Missing), gender = F  

              Част.   % корр.   % корр. сумм.   % сумма   % совокупной суммы
----------- ------- --------- --------------- --------- --------------------
        Yes       5     35.71           35.71     35.71                35.71
         No       9     64.29          100.00     64.29               100.00
       <NA>       0                                0.00               100.00
      сумма      14    100.00          100.00    100.00               100.00

Переменные: age.gr = (Missing), gender = M  

              Част.   % корр.   % корр. сумм.   % сумма   % совокупной суммы
----------- ------- --------- --------------- --------- --------------------
        Yes       3     27.27           27.27     27.27                27.27
         No       8     72.73          100.00     72.73               100.00
       <NA>       0                                0.00               100.00
      сумма      11    100.00          100.00    100.00               100.00

> fr3 %>% tb()
# A tibble: 42 x 8
   age.gr    gender    smoker  freq pct_valid pct_valid_cum pct_tot pct_tot_cum
   <fct>     <fct>     <fct>  <dbl>     <dbl>         <dbl>   <dbl>       <dbl>
 1 18-34     F         Yes       34      1.97          1.97    1.97        1.97
 2 18-34     F         No        89      5.17          7.14    5.17        7.14
 3 18-34     F         <NA>       0     NA             7.14    0           7.14
 4 18-34     M         Yes       38      2.09          9.23    2.09        9.23
 5 18-34     M         No        92      5.05         14.3     5.05       14.3 
 6 18-34     M         <NA>       0     NA            14.3     0          14.3 
 7 18-34     (Missing) Yes        2      2.86         17.1     2.86       17.1 
 8 18-34     (Missing) No         3      4.29         21.4     4.29       21.4 
 9 18-34     (Missing) <NA>       0     NA            21.4     0          21.4 
10 35-50     F         Yes       39      2.36         23.8     2.36       23.8 
11 35-50     F         No        79      4.78         28.6     4.78       28.6 
12 35-50     F         <NA>       0     NA            28.6     0          28.6 
13 35-50     M         Yes       31      1.88         30.4     1.88       30.4 
14 35-50     M         No        87      5.27         35.7     5.27       35.7 
15 35-50     M         <NA>       0     NA            35.7     0          35.7 
16 35-50     (Missing) Yes        2      2.86         38.6     2.86       38.6 
17 35-50     (Missing) No         3      4.29         42.9     4.29       42.9 
18 35-50     (Missing) <NA>       0     NA            42.9     0          42.9 
19 51-70     F         Yes       48      2.18         45.0     2.18       45.0 
20 51-70     F         No       109      4.96         50       4.96       50   
21 51-70     F         <NA>       0     NA            50       0          50   
22 51-70     M         Yes       48      2.27         52.3     2.27       52.3 
23 51-70     M         No       103      4.87         57.1     4.87       57.1 
24 51-70     M         <NA>       0     NA            57.1     0          57.1 
25 51-70     (Missing) Yes        3      2.38         59.5     2.38       59.5 
26 51-70     (Missing) No         6      4.76         64.3     4.76       64.3 
27 51-70     (Missing) <NA>       0     NA            64.3     0          64.3 
28 71 +      F         Yes       21      1.95         66.2     1.95       66.2 
29 71 +      F         No        56      5.19         71.4     5.19       71.4 
30 71 +      F         <NA>       0     NA            71.4     0          71.4 
31 71 +      M         Yes       23      2.08         73.5     2.08       73.5 
32 71 +      M         No        56      5.06         78.6     5.06       78.6 
33 71 +      M         <NA>       0     NA            78.6     0          78.6 
34 71 +      (Missing) Yes        1      2.38         81.0     2.38       81.0 
35 71 +      (Missing) No         2      4.76         85.7     4.76       85.7 
36 71 +      (Missing) <NA>       0     NA            85.7     0          85.7 
37 (Missing) F         Yes        5      2.55         88.3     2.55       88.3 
38 (Missing) F         No         9      4.59         92.9     4.59       92.9 
39 (Missing) F         <NA>       0     NA            92.9     0          92.9 
40 (Missing) M         Yes        3      1.95         94.8     1.95       94.8 
41 (Missing) M         No         8      5.19        100       5.19      100   
42 (Missing) M         <NA>       0     NA           100       0         100   

> fr3 %>% tb(order = 2, na.rm = TRUE)
# A tibble: 28 x 6
   age.gr    gender    smoker  freq   pct pct_cum
   <fct>     <fct>     <fct>  <dbl> <dbl>   <dbl>
 1 18-34     F         Yes       34  1.97    1.97
 2 18-34     M         Yes       38  2.09    4.06
 3 18-34     (Missing) Yes        2  2.86    6.92
 4 35-50     F         Yes       39  2.36    9.28
 5 35-50     M         Yes       31  1.88   11.2 
 6 35-50     (Missing) Yes        2  2.86   14.0 
 7 51-70     F         Yes       48  2.18   16.2 
 8 51-70     M         Yes       48  2.27   18.5 
 9 51-70     (Missing) Yes        3  2.38   20.8 
10 71 +      F         Yes       21  1.95   22.8 
11 71 +      M         Yes       23  2.08   24.9 
12 71 +      (Missing) Yes        1  2.38   27.3 
13 (Missing) F         Yes        5  2.55   29.8 
14 (Missing) M         Yes        3  1.95   31.8 
15 18-34     F         No        89  5.17   36.9 
16 18-34     M         No        92  5.05   42.0 
17 18-34     (Missing) No         3  4.29   46.3 
18 35-50     F         No        79  4.78   51.0 
19 35-50     M         No        87  5.27   56.3 
20 35-50     (Missing) No         3  4.29   60.6 
21 51-70     F         No       109  4.96   65.6 
22 51-70     M         No       103  4.87   70.4 
23 51-70     (Missing) No         6  4.76   75.2 
24 71 +      F         No        56  5.19   80.4 
25 71 +      M         No        56  5.06   85.5 
26 71 +      (Missing) No         2  4.76   90.2 
27 (Missing) F         No         9  4.59   94.8 
28 (Missing) M         No         8  5.19  100   

> fr3 %>% print(file = "03-freqs-group_by-2.html")
Switching method to 'browser'
Output file written
Output file appended

> tobacco$age.gr %<>% fct_explicit_na()

> (fr4 <- tobacco %>% group_by(age.gr) %>% select(age.gr, smoker) %>% freq())
Частота  
tobacco$smoker  
Тип: склейка  
Переменные: age.gr = 18-34  

              Част.   % корр.   % корр. сумм.   % сумма   % совокупной суммы
----------- ------- --------- --------------- --------- --------------------
        Yes      74     28.68           28.68     28.68                28.68
         No     184     71.32          100.00     71.32               100.00
       <NA>       0                                0.00               100.00
      сумма     258    100.00          100.00    100.00               100.00

Переменные: age.gr = 35-50  

              Част.   % корр.   % корр. сумм.   % сумма   % совокупной суммы
----------- ------- --------- --------------- --------- --------------------
        Yes      72     29.88           29.88     29.88                29.88
         No     169     70.12          100.00     70.12               100.00
       <NA>       0                                0.00               100.00
      сумма     241    100.00          100.00    100.00               100.00

Переменные: age.gr = 51-70  

              Част.   % корр.   % корр. сумм.   % сумма   % совокупной суммы
----------- ------- --------- --------------- --------- --------------------
        Yes      99     31.23           31.23     31.23                31.23
         No     218     68.77          100.00     68.77               100.00
       <NA>       0                                0.00               100.00
      сумма     317    100.00          100.00    100.00               100.00

Переменные: age.gr = 71 +  

              Част.   % корр.   % корр. сумм.   % сумма   % совокупной суммы
----------- ------- --------- --------------- --------- --------------------
        Yes      45     28.30           28.30     28.30                28.30
         No     114     71.70          100.00     71.70               100.00
       <NA>       0                                0.00               100.00
      сумма     159    100.00          100.00    100.00               100.00

Переменные: age.gr = (Missing)  

              Част.   % корр.   % корр. сумм.   % сумма   % совокупной суммы
----------- ------- --------- --------------- --------- --------------------
        Yes       8     32.00           32.00     32.00                32.00
         No      17     68.00          100.00     68.00               100.00
       <NA>       0                                0.00               100.00
      сумма      25    100.00          100.00    100.00               100.00

> fr4 %>% tb()
# A tibble: 15 x 7
   age.gr    smoker  freq pct_valid pct_valid_cum pct_tot pct_tot_cum
   <fct>     <fct>  <dbl>     <dbl>         <dbl>   <dbl>       <dbl>
 1 18-34     Yes       74      5.74          5.74    5.74        5.74
 2 18-34     No       184     14.3          20      14.3        20   
 3 18-34     <NA>       0     NA            20       0          20   
 4 35-50     Yes       72      5.98         26.0     5.98       26.0 
 5 35-50     No       169     14.0          40      14.0        40   
 6 35-50     <NA>       0     NA            40       0          40   
 7 51-70     Yes       99      6.25         46.2     6.25       46.2 
 8 51-70     No       218     13.8          60      13.8        60   
 9 51-70     <NA>       0     NA            60       0          60   
10 71 +      Yes       45      5.66         65.7     5.66       65.7 
11 71 +      No       114     14.3          80      14.3        80   
12 71 +      <NA>       0     NA            80       0          80   
13 (Missing) Yes        8      6.4          86.4     6.4        86.4 
14 (Missing) No        17     13.6         100      13.6       100   
15 (Missing) <NA>       0     NA           100       0         100   

> fr4 %>% print(file = "04-freqs-group_by-3.html")
Switching method to 'browser'
Output file written
Output file appended

> (fr5 <- tobacco %>% freq(fct_explicit_na(smoker)))
Частота  
tobacco$smoker  
Тип: склейка  

              Част.   % корр.   % корр. сумм.   % сумма   % совокупной суммы
----------- ------- --------- --------------- --------- --------------------
        Yes     298     29.80           29.80     29.80                29.80
         No     702     70.20          100.00     70.20               100.00
       <NA>       0                                0.00               100.00
      сумма    1000    100.00          100.00    100.00               100.00

> fr5 %>% tb()
# A tibble: 3 x 6
  smoker  freq pct_valid pct_valid_cum pct_tot pct_tot_cum
  <fct>  <dbl>     <dbl>         <dbl>   <dbl>       <dbl>
1 Yes      298      29.8          29.8    29.8        29.8
2 No       702      70.2         100.     70.2       100. 
3 <NA>       0      NA            NA       0         100. 

> fr5 %>% tb(2, TRUE)
# A tibble: 2 x 4
  smoker  freq   pct pct_cum
  <fct>  <dbl> <dbl>   <dbl>
1 Yes      298  29.8    29.8
2 No       702  70.2   100. 

> fr5 %>% print(file = "05-freqs-fn-1.html")
Switching method to 'browser'
Output file written

> (fr6 <- tobacco %>% group_by(age.gr = fct_explicit_na(age.gr)) %>% freq(na.omit(smoker)))
Частота  
tobacco$smoker  
Тип: склейка  
Переменные: age.gr = 18-34  

              Част.   % корр.   % корр. сумм.   % сумма   % совокупной суммы
----------- ------- --------- --------------- --------- --------------------
        Yes      74     28.68           28.68     28.68                28.68
         No     184     71.32          100.00     71.32               100.00
       <NA>       0                                0.00               100.00
      сумма     258    100.00          100.00    100.00               100.00

Переменные: age.gr = 35-50  

              Част.   % корр.   % корр. сумм.   % сумма   % совокупной суммы
----------- ------- --------- --------------- --------- --------------------
        Yes      72     29.88           29.88     29.88                29.88
         No     169     70.12          100.00     70.12               100.00
       <NA>       0                                0.00               100.00
      сумма     241    100.00          100.00    100.00               100.00

Переменные: age.gr = 51-70  

              Част.   % корр.   % корр. сумм.   % сумма   % совокупной суммы
----------- ------- --------- --------------- --------- --------------------
        Yes      99     31.23           31.23     31.23                31.23
         No     218     68.77          100.00     68.77               100.00
       <NA>       0                                0.00               100.00
      сумма     317    100.00          100.00    100.00               100.00

Переменные: age.gr = 71 +  

              Част.   % корр.   % корр. сумм.   % сумма   % совокупной суммы
----------- ------- --------- --------------- --------- --------------------
        Yes      45     28.30           28.30     28.30                28.30
         No     114     71.70          100.00     71.70               100.00
       <NA>       0                                0.00               100.00
      сумма     159    100.00          100.00    100.00               100.00

Переменные: age.gr = (Missing)  

              Част.   % корр.   % корр. сумм.   % сумма   % совокупной суммы
----------- ------- --------- --------------- --------- --------------------
        Yes       8     32.00           32.00     32.00                32.00
         No      17     68.00          100.00     68.00               100.00
       <NA>       0                                0.00               100.00
      сумма      25    100.00          100.00    100.00               100.00

> fr6 %>% tb()
# A tibble: 15 x 7
   age.gr    smoker  freq pct_valid pct_valid_cum pct_tot pct_tot_cum
   <fct>     <fct>  <dbl>     <dbl>         <dbl>   <dbl>       <dbl>
 1 18-34     Yes       74      5.74          5.74    5.74        5.74
 2 18-34     No       184     14.3          20      14.3        20   
 3 18-34     <NA>       0     NA            20       0          20   
 4 35-50     Yes       72      5.98         26.0     5.98       26.0 
 5 35-50     No       169     14.0          40      14.0        40   
 6 35-50     <NA>       0     NA            40       0          40   
 7 51-70     Yes       99      6.25         46.2     6.25       46.2 
 8 51-70     No       218     13.8          60      13.8        60   
 9 51-70     <NA>       0     NA            60       0          60   
10 71 +      Yes       45      5.66         65.7     5.66       65.7 
11 71 +      No       114     14.3          80      14.3        80   
12 71 +      <NA>       0     NA            80       0          80   
13 (Missing) Yes        8      6.4          86.4     6.4        86.4 
14 (Missing) No        17     13.6         100      13.6       100   
15 (Missing) <NA>       0     NA           100       0         100   

> fr6 %>% tb(2, TRUE)
# A tibble: 10 x 5
   age.gr    smoker  freq   pct pct_cum
   <fct>     <fct>  <dbl> <dbl>   <dbl>
 1 18-34     Yes       74  5.74    5.74
 2 35-50     Yes       72  5.98   11.7 
 3 51-70     Yes       99  6.25   18.0 
 4 71 +      Yes       45  5.66   23.6 
 5 (Missing) Yes        8  6.4    30.0 
 6 18-34     No       184 14.3    44.3 
 7 35-50     No       169 14.0    58.3 
 8 51-70     No       218 13.8    72.1 
 9 71 +      No       114 14.3    86.4 
10 (Missing) No        17 13.6   100   

> fr6 %>% print(file = "06-freqs-fn-2.html")
Switching method to 'browser'
Output file written
Output file appended

# -----------------  descr
> (d1 <- tobacco %>% descr(stats = "common"))
Non-numerical variable(s) ignored: gender, age.gr, smoker, diseased, disease
Кол-венный показатель распределения  
tobacco  
Кол-во: 1000  

                       age      BMI   cigs.per.day   samp.wgts
----------------- -------- -------- -------------- -----------
      сред. знач.    49.60    25.73           6.78        1.00
        ст. откл.    18.29     4.49          11.88        0.08
              Mин    18.00     8.83           0.00        0.86
          Mедиана    50.00    25.62           0.00        1.04
             Mакс    80.00    39.44          40.00        1.06
       Цифр. корр   975.00   974.00         965.00     1000.00
       Проц. корр    97.50    97.40          96.50      100.00

> d1 %>% tb()
# A tibble: 4 x 8
  variable      mean      sd    min   med   max n.valid pct.valid
  <chr>        <dbl>   <dbl>  <dbl> <dbl> <dbl>   <dbl>     <dbl>
1 age          49.6  18.3    18     50    80        975      97.5
2 BMI          25.7   4.49    8.83  25.6  39.4      974      97.4
3 cigs.per.day  6.78 11.9     0      0    40        965      96.5
4 samp.wgts     1     0.0839  0.861  1.04  1.06    1000     100  

> d1 %>% print(headings = FALSE)
Non-numerical variable(s) ignored: gender, age.gr, smoker, diseased, disease

                       age      BMI   cigs.per.day   samp.wgts
----------------- -------- -------- -------------- -----------
      сред. знач.    49.60    25.73           6.78        1.00
        ст. откл.    18.29     4.49          11.88        0.08
              Mин    18.00     8.83           0.00        0.86
          Mедиана    50.00    25.62           0.00        1.04
             Mакс    80.00    39.44          40.00        1.06
       Цифр. корр   975.00   974.00         965.00     1000.00
       Проц. корр    97.50    97.40          96.50      100.00

> d1 %>% print(headings = FALSE, footnote = "test footnote", file = "07-descr1-footnote.html")
Switching method to 'browser'
Non-numerical variable(s) ignored: gender, age.gr, smoker, diseased, disease
Output file written

> (d2 <- tobacco %>% select(age, BMI, smoker) %>% descr(stats = "fivenum"))
Non-numerical variable(s) ignored: smoker
Кол-венный показатель распределения  
tobacco  
Кол-во: 1000  

                  age     BMI
------------- ------- -------
          Mин   18.00    8.83
           Q1   34.00   22.93
      Mедиана   50.00   25.62
           Q3   66.00   28.65
         Mакс   80.00   39.44

> d2 %>% tb()
# A tibble: 2 x 6
  variable   min    q1   med    q3   max
  <chr>    <dbl> <dbl> <dbl> <dbl> <dbl>
1 age      18     34    50    66    80  
2 BMI       8.83  22.9  25.6  28.7  39.4

> d2 %>% print(file = "08-descr-select.html")
Switching method to 'browser'
Non-numerical variable(s) ignored: smoker
Output file written

> (d3 <- tobacco %>% filter(smoker == "Yes") %>% descr(stats = "common"))
Non-numerical variable(s) ignored: gender, age.gr, smoker, diseased, disease
Кол-венный показатель распределения  
tobacco  
Кол-во: 298  

                       age      BMI   cigs.per.day   samp.wgts
----------------- -------- -------- -------------- -----------
      сред. знач.    49.76    25.64          22.49        1.00
        ст. откл.    18.75     4.25          10.69        0.08
              Mин    19.00     9.01           5.00        0.86
          Mедиана    50.00    25.70          22.00        1.04
             Mакс    80.00    36.36          40.00        1.06
       Цифр. корр   290.00   291.00         291.00      298.00
       Проц. корр    97.32    97.65          97.65      100.00

> d3 %>% tb()
# A tibble: 4 x 8
  variable      mean      sd    min   med   max n.valid pct.valid
  <chr>        <dbl>   <dbl>  <dbl> <dbl> <dbl>   <dbl>     <dbl>
1 age          49.8  18.7    19     50    80        290      97.3
2 BMI          25.6   4.25    9.01  25.7  36.4      291      97.7
3 cigs.per.day 22.5  10.7     5     22    40        291      97.7
4 samp.wgts     1.00  0.0834  0.861  1.04  1.06     298     100  

> d3 %>% print(file = "09-descr-filter.html")
Switching method to 'browser'
Non-numerical variable(s) ignored: gender, age.gr, smoker, diseased, disease
Output file written

> (d4 <- tobacco %$% descr(age))
Кол-венный показатель распределения  
tobacco$age  
Кол-во: 1000  

                         age
------------------- --------
        сред. знач.    49.60
          ст. откл.    18.29
                Mин    18.00
                 Q1    34.00
            Mедиана    50.00
                 Q3    66.00
               Mакс    80.00
                MAD    23.72
                IQR    32.00
                 CV     0.37
         асимметрия    -0.04
      SE.асимметрия     0.08
            эксцесс    -1.26
         Цифр. корр   975.00
         Проц. корр    97.50

> d4 %>% tb()
# A tibble: 1 x 16
  variable  mean    sd   min    q1   med    q3   max   mad   iqr    cv skewness se.skewness kurtosis n.valid pct.valid
  <chr>    <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl>    <dbl>       <dbl>    <dbl>   <dbl>     <dbl>
1 age       49.6  18.3    18    34    50    66    80  23.7    32 0.369  -0.0403      0.0783    -1.26     975      97.5

> d4 %>% print(file = "10-descr-dollarpipe.html")
Switching method to 'browser'
Output file written

> (d5 <- tobacco %>% group_by(smoker) %>% descr(stats = "common"))
Non-numerical variable(s) ignored: gender, age.gr, diseased, disease
Кол-венный показатель распределения  
tobacco  
Переменные: smoker = Yes  
Кол-во: 298  

                       age      BMI   cigs.per.day   samp.wgts
----------------- -------- -------- -------------- -----------
      сред. знач.    49.76    25.64          22.49        1.00
        ст. откл.    18.75     4.25          10.69        0.08
              Mин    19.00     9.01           5.00        0.86
          Mедиана    50.00    25.70          22.00        1.04
             Mакс    80.00    36.36          40.00        1.06
       Цифр. корр   290.00   291.00         291.00      298.00
       Проц. корр    97.32    97.65          97.65      100.00

Переменные: smoker = No  
Кол-во: 702  

                       age      BMI   cigs.per.day   samp.wgts
----------------- -------- -------- -------------- -----------
      сред. знач.    49.53    25.77           0.00        1.00
        ст. откл.    18.10     4.59           0.00        0.08
              Mин    18.00     8.83           0.00        0.86
          Mедиана    50.00    25.58           0.00        1.04
             Mакс    80.00    39.44           0.00        1.06
       Цифр. корр   685.00   683.00         674.00      702.00
       Проц. корр    97.58    97.29          96.01      100.00

# ----------------- d5 %>% view(method = "browser")
> d5 %>% tb()
# A tibble: 8 x 9
  smoker variable      mean      sd    min   med   max n.valid pct.valid
  <fct>  <chr>        <dbl>   <dbl>  <dbl> <dbl> <dbl>   <dbl>     <dbl>
1 Yes    age          49.8  18.7    19     50    80        290      97.3
2 Yes    BMI          25.6   4.25    9.01  25.7  36.4      291      97.7
3 Yes    cigs.per.day 22.5  10.7     5     22    40        291      97.7
4 Yes    samp.wgts     1.00  0.0834  0.861  1.04  1.06     298     100  
5 No     age          49.5  18.1    18     50    80        685      97.6
6 No     BMI          25.8   4.59    8.83  25.6  39.4      683      97.3
7 No     cigs.per.day  0     0       0      0     0        674      96.0
8 No     samp.wgts     1.00  0.0841  0.861  1.04  1.06     702     100  

> d5 %>% tb(2)
# A tibble: 8 x 9
  smoker variable      mean      sd    min   med   max n.valid pct.valid
  <fct>  <chr>        <dbl>   <dbl>  <dbl> <dbl> <dbl>   <dbl>     <dbl>
1 Yes    age          49.8  18.7    19     50    80        290      97.3
2 No     age          49.5  18.1    18     50    80        685      97.6
3 Yes    BMI          25.6   4.25    9.01  25.7  36.4      291      97.7
4 No     BMI          25.8   4.59    8.83  25.6  39.4      683      97.3
5 Yes    cigs.per.day 22.5  10.7     5     22    40        291      97.7
6 No     cigs.per.day  0     0       0      0     0        674      96.0
7 Yes    samp.wgts     1.00  0.0834  0.861  1.04  1.06     298     100  
8 No     samp.wgts     1.00  0.0841  0.861  1.04  1.06     702     100  

> d5 %>% print(file = "11-descr-group_by-1.html")
Switching method to 'browser'
Non-numerical variable(s) ignored: gender, age.gr, diseased, disease
Output file written
Output file appended

> (d6 <- tobacco %>% group_by(smoker, gender = fct_explicit_na(gender)) %>% descr(stats = "common"))
Non-numerical variable(s) ignored: age.gr, diseased, disease
Кол-венный показатель распределения  
tobacco  
Переменные: smoker = Yes, gender = F  
Кол-во: 147  

                       age      BMI   cigs.per.day   samp.wgts
----------------- -------- -------- -------------- -----------
      сред. знач.    49.15    25.92          22.50        1.00
        ст. откл.    18.34     4.38          11.07        0.08
              Mин    19.00     9.01           5.00        0.86
          Mедиана    50.00    25.99          22.00        1.04
             Mакс    80.00    36.36          40.00        1.06
       Цифр. корр   142.00   144.00         143.00      147.00
       Проц. корр    96.60    97.96          97.28      100.00

Переменные: smoker = Yes, gender = M  
Кол-во: 143  

                       age      BMI   cigs.per.day   samp.wgts
----------------- -------- -------- -------------- -----------
      сред. знач.    50.49    25.27          22.81        1.00
        ст. откл.    19.26     4.17          10.36        0.08
              Mин    19.00    15.99           5.00        0.86
          Mедиана    52.50    24.91          22.50        1.04
             Mакс    80.00    35.17          40.00        1.06
       Цифр. корр   140.00   139.00         140.00      143.00
       Проц. корр    97.90    97.20          97.90      100.00

Переменные: smoker = Yes, gender = (Missing)  
Кол-во: 8  

                       age      BMI   cigs.per.day   samp.wgts
----------------- -------- -------- -------------- -----------
      сред. знач.    47.88    27.21          16.75        1.00
        ст. откл.    18.67     2.48           8.92        0.09
              Mин    24.00    24.22           5.00        0.86
          Mедиана    45.50    26.94          20.00        1.05
             Mакс    75.00    31.18          28.00        1.06
       Цифр. корр     8.00     8.00           8.00        8.00
       Проц. корр   100.00   100.00         100.00      100.00

Переменные: smoker = No, gender = F  
Кол-во: 342  

                       age      BMI   cigs.per.day   samp.wgts
----------------- -------- -------- -------------- -----------
      сред. знач.    49.74    26.18           0.00        1.00
        ст. откл.    18.28     5.18           0.00        0.08
              Mин    18.00    10.35           0.00        0.86
          Mедиана    50.00    25.82           0.00        1.04
             Mакс    80.00    39.44           0.00        1.06
       Цифр. корр   333.00   331.00         325.00      342.00
       Проц. корр    97.37    96.78          95.03      100.00

Переменные: smoker = No, gender = M  
Кол-во: 346  

                       age      BMI   cigs.per.day   samp.wgts
----------------- -------- -------- -------------- -----------
      сред. знач.    49.20    25.32           0.00        1.00
        ст. откл.    17.96     3.91           0.00        0.08
              Mин    18.00     8.83           0.00        0.86
          Mедиана    49.00    25.16           0.00        1.04
             Mакс    80.00    36.76           0.00        1.06
       Цифр. корр   338.00   338.00         335.00      346.00
       Проц. корр    97.69    97.69          96.82      100.00

Переменные: smoker = No, gender = (Missing)  
Кол-во: 14  

                       age      BMI   cigs.per.day   samp.wgts
----------------- -------- -------- -------------- -----------
      сред. знач.    52.57    26.79           0.00        1.01
        ст. откл.    18.45     4.07           0.00        0.08
              Mин    19.00    20.24           0.00        0.86
          Mедиана    59.00    27.16           0.00        1.05
             Mакс    80.00    32.43           0.00        1.06
       Цифр. корр    14.00    14.00          14.00       14.00
       Проц. корр   100.00   100.00         100.00      100.00

# ----------------- d5 %>% view(method = "browser")
> d6 %>% tb()
# A tibble: 24 x 10
   smoker gender    variable       mean      sd    min   med   max n.valid pct.valid
   <fct>  <fct>     <chr>         <dbl>   <dbl>  <dbl> <dbl> <dbl>   <dbl>     <dbl>
 1 Yes    F         age          49.1   18.3    19     50    80        142      96.6
 2 Yes    F         BMI          25.9    4.38    9.01  26.0  36.4      144      98.0
 3 Yes    F         cigs.per.day 22.5   11.1     5     22    40        143      97.3
 4 Yes    F         samp.wgts     1.00   0.0824  0.861  1.04  1.06     147     100  
 5 Yes    M         age          50.5   19.3    19     52.5  80        140      97.9
 6 Yes    M         BMI          25.3    4.17   16.0   24.9  35.2      139      97.2
 7 Yes    M         cigs.per.day 22.8   10.4     5     22.5  40        140      97.9
 8 Yes    M         samp.wgts     0.999  0.0848  0.861  1.04  1.06     143     100  
 9 Yes    (Missing) age          47.9   18.7    24     45.5  75          8     100  
10 Yes    (Missing) BMI          27.2    2.48   24.2   26.9  31.2        8     100  
11 Yes    (Missing) cigs.per.day 16.8    8.92    5     20    28          8     100  
12 Yes    (Missing) samp.wgts     1.00   0.0874  0.861  1.05  1.06       8     100  
13 No     F         age          49.7   18.3    18     50    80        333      97.4
14 No     F         BMI          26.2    5.18   10.3   25.8  39.4      331      96.8
15 No     F         cigs.per.day  0      0       0      0     0        325      95.0
16 No     F         samp.wgts     0.999  0.0848  0.861  1.04  1.06     342     100  
17 No     M         age          49.2   18.0    18     49    80        338      97.7
18 No     M         BMI          25.3    3.91    8.83  25.2  36.8      338      97.7
19 No     M         cigs.per.day  0      0       0      0     0        335      96.8
20 No     M         samp.wgts     1.00   0.0838  0.861  1.04  1.06     346     100  
21 No     (Missing) age          52.6   18.5    19     59    80         14     100  
22 No     (Missing) BMI          26.8    4.07   20.2   27.2  32.4       14     100  
23 No     (Missing) cigs.per.day  0      0       0      0     0         14     100  
24 No     (Missing) samp.wgts     1.01   0.0806  0.861  1.05  1.06      14     100  

> d6 %>% tb(2)
# A tibble: 24 x 10
   smoker gender    variable       mean      sd    min   med   max n.valid pct.valid
   <fct>  <fct>     <chr>         <dbl>   <dbl>  <dbl> <dbl> <dbl>   <dbl>     <dbl>
 1 Yes    F         age          49.1   18.3    19     50    80        142      96.6
 2 Yes    M         age          50.5   19.3    19     52.5  80        140      97.9
 3 Yes    (Missing) age          47.9   18.7    24     45.5  75          8     100  
 4 No     F         age          49.7   18.3    18     50    80        333      97.4
 5 No     M         age          49.2   18.0    18     49    80        338      97.7
 6 No     (Missing) age          52.6   18.5    19     59    80         14     100  
 7 Yes    F         BMI          25.9    4.38    9.01  26.0  36.4      144      98.0
 8 Yes    M         BMI          25.3    4.17   16.0   24.9  35.2      139      97.2
 9 Yes    (Missing) BMI          27.2    2.48   24.2   26.9  31.2        8     100  
10 No     F         BMI          26.2    5.18   10.3   25.8  39.4      331      96.8
11 No     M         BMI          25.3    3.91    8.83  25.2  36.8      338      97.7
12 No     (Missing) BMI          26.8    4.07   20.2   27.2  32.4       14     100  
13 Yes    F         cigs.per.day 22.5   11.1     5     22    40        143      97.3
14 Yes    M         cigs.per.day 22.8   10.4     5     22.5  40        140      97.9
15 Yes    (Missing) cigs.per.day 16.8    8.92    5     20    28          8     100  
16 No     F         cigs.per.day  0      0       0      0     0        325      95.0
17 No     M         cigs.per.day  0      0       0      0     0        335      96.8
18 No     (Missing) cigs.per.day  0      0       0      0     0         14     100  
19 Yes    F         samp.wgts     1.00   0.0824  0.861  1.04  1.06     147     100  
20 Yes    M         samp.wgts     0.999  0.0848  0.861  1.04  1.06     143     100  
21 Yes    (Missing) samp.wgts     1.00   0.0874  0.861  1.05  1.06       8     100  
22 No     F         samp.wgts     0.999  0.0848  0.861  1.04  1.06     342     100  
23 No     M         samp.wgts     1.00   0.0838  0.861  1.04  1.06     346     100  
24 No     (Missing) samp.wgts     1.01   0.0806  0.861  1.05  1.06      14     100  

> d6 %>% print(file = "12-descr-group_by-2.html")
Switching method to 'browser'
Non-numerical variable(s) ignored: age.gr, diseased, disease
Output file written
Output file appended

> (d7 <- tobacco %>% group_by(smoker) %>% descr(age, stats = "common"))
Кол-венный показатель распределения  
age группа smoker  
Верт. таблица: tobacco  
Кол-во: 298  

                       Yes       No
----------------- -------- --------
      сред. знач.    49.76    49.53
        ст. откл.    18.75    18.10
              Mин    19.00    18.00
          Mедиана    50.00    50.00
             Mакс    80.00    80.00
       Цифр. корр   290.00   685.00
       Проц. корр    97.32    97.58

> d7 %>% tb()
# A tibble: 2 x 9
  smoker variable  mean    sd   min   med   max n.valid pct.valid
  <fct>  <chr>    <dbl> <dbl> <dbl> <dbl> <dbl>   <dbl>     <dbl>
1 Yes    age       49.8  18.7    19    50    80     290      97.3
2 No     age       49.5  18.1    18    50    80     685      97.6

> d7 %>% tb(2)
# A tibble: 2 x 9
  smoker variable  mean    sd   min   med   max n.valid pct.valid
  <fct>  <chr>    <dbl> <dbl> <dbl> <dbl> <dbl>   <dbl>     <dbl>
1 Yes    age       49.8  18.7    19    50    80     290      97.3
2 No     age       49.5  18.1    18    50    80     685      97.6

> d7 %>% print(file = "13-descr-group_by-special.html")
Switching method to 'browser'
Output file written

> view(d7, file="d7.html")
Output file written

> d7_2 <- stby(tobacco$age, tobacco$smoker, descr)

> d7_2 %>% tb()
# A tibble: 2 x 17
  smoker variable  mean    sd   min    q1   med    q3   max   mad   iqr    cv skewness se.skewness kurtosis n.valid pct.valid
  <fct>  <chr>    <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl>    <dbl>       <dbl>    <dbl>   <dbl>     <dbl>
1 Yes    age       49.8  18.7    19    34    50    66    80  23.7    32 0.377  -0.0876      0.143     -1.27     290      97.3
2 No     age       49.5  18.1    18    34    50    66    80  23.7    32 0.365  -0.0187      0.0934    -1.26     685      97.6

> view(d7_2, file="d7_2.html")
Output file written

# -----------------  dfSummary
> (dfs1 <- tobacco %>% dfSummary(varnumbers = FALSE, valid.col = FALSE))
Сводка кадровых данных  
tobacco  
Измерения: 1000 x 9  
Дупликаты: 2  

--------------------------------------------------------------------------------------------------------------------
Переменная     Статистика / Значения              Частота (% действительных)   Диаграмма             Отсутствующее  
-------------- ---------------------------------- ---------------------------- --------------------- ---------------
gender         1. F                               489 (50.0%)                  IIIIIIIIII            22             
[factor]       2. M                               489 (50.0%)                  IIIIIIIIII            (2.2%)         

age            сред. знач. (с.о.) : 49.6 (18.3)   63 уникальные значения       .     .     . . . :   25             
[numeric]      mин < мед < mакс:                                               : : : : : . : : : :   (2.5%)         
               18 < 50 < 80                                                    : : : : : : : : : :                  
               IQR (CV) : 32 (0.4)                                             : : : : : : : : : :                  
                                                                               : : : : : : : : : :                  

age.gr         1. 18-34                           258 (25.8%)                  IIIII                 0              
[factor]       2. 35-50                           241 (24.1%)                  IIII                  (0%)           
               3. 51-70                           317 (31.7%)                  IIIIII                               
               4. 71 +                            159 (15.9%)                  III                                  
               5. (Missing)                        25 ( 2.5%)                                                       

BMI            сред. знач. (с.о.) : 25.7 (4.5)    974 уникальные значения                :           26             
[numeric]      mин < мед < mакс:                                                       : : :         (2.6%)         
               8.8 < 25.6 < 39.4                                                       : : :                        
               IQR (CV) : 5.7 (0.2)                                                  : : : : :                      
                                                                                   . : : : : : .                    

smoker         1. Yes                             298 (29.8%)                  IIIII                 0              
[factor]       2. No                              702 (70.2%)                  IIIIIIIIIIIIII        (0%)           

cigs.per.day   сред. знач. (с.о.) : 6.8 (11.9)    37 уникальные значения       :                     35             
[numeric]      mин < мед < mакс:                                               :                     (3.5%)         
               0 < 0 < 40                                                      :                                    
               IQR (CV) : 11 (1.8)                                             :                                    
                                                                               :   . . . . . .                      

diseased       1. Yes                             224 (22.4%)                  IIII                  0              
[factor]       2. No                              776 (77.6%)                  IIIIIIIIIIIIIII       (0%)           

disease        1. Hypertension                    36 (16.2%)                   III                   778            
[character]    2. Cancer                          34 (15.3%)                   III                   (77.8%)        
               3. Cholesterol                     21 ( 9.5%)                   I                                    
               4. Heart                           20 ( 9.0%)                   I                                    
               5. Pulmonary                       20 ( 9.0%)                   I                                    
               6. Musculoskeletal                 19 ( 8.6%)                   I                                    
               7. Diabetes                        14 ( 6.3%)                   I                                    
               8. Hearing                         14 ( 6.3%)                   I                                    
               9. Digestive                       12 ( 5.4%)                   I                                    
               10. Hypotension                    11 ( 5.0%)                                                        
               [ 3 остальные ]                    21 ( 9.5%)                   I                                    

samp.wgts      сред. знач. (с.о.) : 1 (0.1)       0.86!: 267 (26.7%)           IIIII                 0              
[numeric]      mин < мед < mакс:                  1.04!: 249 (24.9%)           IIII                  (0%)           
               0.9 < 1 < 1.1                      1.05!: 324 (32.4%)           IIIIII                               
               IQR (CV) : 0.2 (0.1)               1.06!: 160 (16.0%)           III                                  
                                                  ! округлённое                                                     
--------------------------------------------------------------------------------------------------------------------

> dfs1 %>% print(file = "14-dfSummary.html")
Switching method to 'browser'
Output file written

> (dfs2 <- tobacco %>% select(gender, age, BMI, smoker) %>% dfSummary(valid.col = FALSE))
Сводка кадровых данных  
tobacco  
Измерения: 1000 x 4  
Дупликаты: 2  

----------------------------------------------------------------------------------------------------------------------
№   Переменная   Статистика / Значения              Частота (% действительных)   Диаграмма             Отсутствующее  
--- ------------ ---------------------------------- ---------------------------- --------------------- ---------------
1   gender       1. F                               489 (50.0%)                  IIIIIIIIII            22             
    [factor]     2. M                               489 (50.0%)                  IIIIIIIIII            (2.2%)         

2   age          сред. знач. (с.о.) : 49.6 (18.3)   63 уникальные значения       .     .     . . . :   25             
    [numeric]    mин < мед < mакс:                                               : : : : : . : : : :   (2.5%)         
                 18 < 50 < 80                                                    : : : : : : : : : :                  
                 IQR (CV) : 32 (0.4)                                             : : : : : : : : : :                  
                                                                                 : : : : : : : : : :                  

3   BMI          сред. знач. (с.о.) : 25.7 (4.5)    974 уникальные значения                :           26             
    [numeric]    mин < мед < mакс:                                                       : : :         (2.6%)         
                 8.8 < 25.6 < 39.4                                                       : : :                        
                 IQR (CV) : 5.7 (0.2)                                                  : : : : :                      
                                                                                     . : : : : : .                    

4   smoker       1. Yes                             298 (29.8%)                  IIIII                 0              
    [factor]     2. No                              702 (70.2%)                  IIIIIIIIIIIIII        (0%)           
----------------------------------------------------------------------------------------------------------------------

> dfs2 %>% print(file = "15-dfSummary-select.html")
Switching method to 'browser'
Output file written

> dfs2 %>% view()
Output file written

> tobacco$gender %<>% fct_explicit_na()

> (dfs3 <- tobacco %>% group_by(gender) %>% dfSummary(valid.col = F))
Сводка кадровых данных  
tobacco  
Переменные: gender = F  
Измерения: 489 x 9  
Дупликаты: 0  

-------------------------------------------------------------------------------------------------------------------------
№   Переменная     Статистика / Значения              Частота (% действительных)   Диаграмма              Отсутствующее  
--- -------------- ---------------------------------- ---------------------------- ---------------------- ---------------
1   gender         1. F                               489 (100.0%)                 IIIIIIIIIIIIIIIIIIII   0              
    [factor]       2. M                                 0 (  0.0%)                                        (0%)           
                   3. (Missing)                         0 (  0.0%)                                                       

2   age            сред. знач. (с.о.) : 49.6 (18.3)   63 уникальные значения       :     . . .   : . :    14             
    [numeric]      mин < мед < mакс:                                               : : : : : : : : : :    (2.86%)        
                   18 < 50 < 80                                                    : : : : : : : : : :                   
                   IQR (CV) : 32 (0.4)                                             : : : : : : : : : :                   
                                                                                   : : : : : : : : : :                   

3   age.gr         1. 18-34                           123 (25.1%)                  IIIII                  0              
    [factor]       2. 35-50                           118 (24.1%)                  IIII                   (0%)           
                   3. 51-70                           157 (32.1%)                  IIIIII                                
                   4. 71 +                             77 (15.8%)                  III                                   
                   5. (Missing)                        14 ( 2.9%)                                                        

4   BMI            сред. знач. (с.о.) : 26.1 (4.9)    475 уникальные значения              :              14             
    [numeric]      mин < мед < mакс:                                                     : :              (2.86%)        
                   9 < 25.9 < 39.4                                                       : : .                           
                   IQR (CV) : 6.5 (0.2)                                                . : : :                           
                                                                                       : : : : .                         

5   smoker         1. Yes                             147 (30.1%)                  IIIIII                 0              
    [factor]       2. No                              342 (69.9%)                  IIIIIIIIIIIII          (0%)           

6   cigs.per.day   сред. знач. (с.о.) : 6.9 (12)      37 уникальные значения       :                      21             
    [numeric]      mин < мед < mакс:                                               :                      (4.29%)        
                   0 < 0 < 40                                                      :                                     
                   IQR (CV) : 10.2 (1.8)                                           :                                     
                                                                                   : . . .   . . .                       

7   diseased       1. Yes                             111 (22.7%)                  IIII                   0              
    [factor]       2. No                              378 (77.3%)                  IIIIIIIIIIIIIII        (0%)           

8   disease        1. Hypertension                    18 (16.5%)                   III                    380            
    [character]    2. Cancer                          16 (14.7%)                   II                     (77.71%)       
                   3. Cholesterol                     10 ( 9.2%)                   I                                     
                   4. Heart                            9 ( 8.3%)                   I                                     
                   5. Pulmonary                        9 ( 8.3%)                   I                                     
                   6. Diabetes                         8 ( 7.3%)                   I                                     
                   7. Musculoskeletal                  8 ( 7.3%)                   I                                     
                   8. Hypotension                      7 ( 6.4%)                   I                                     
                   9. Neurological                     7 ( 6.4%)                   I                                     
                   10. Vision                          6 ( 5.5%)                   I                                     
                   [ 3 остальные ]                    11 (10.1%)                   II                                    

9   samp.wgts      сред. знач. (с.о.) : 1 (0.1)       0.86!: 131 (26.8%)           IIIII                  0              
    [numeric]      mин < мед < mакс:                  1.04!: 120 (24.5%)           IIII                   (0%)           
                   0.9 < 1 < 1.1                      1.05!: 160 (32.7%)           IIIIII                                
                   IQR (CV) : 0.2 (0.1)               1.06!:  78 (16.0%)           III                                   
                                                      ! округлённое                                                      
-------------------------------------------------------------------------------------------------------------------------

Переменные: gender = M  
Измерения: 489 x 9  
Дупликаты: 2  

-------------------------------------------------------------------------------------------------------------------------
№   Переменная     Статистика / Значения              Частота (% действительных)   Диаграмма              Отсутствующее  
--- -------------- ---------------------------------- ---------------------------- ---------------------- ---------------
1   gender         1. F                                 0 (  0.0%)                                        0              
    [factor]       2. M                               489 (100.0%)                 IIIIIIIIIIIIIIIIIIII   (0%)           
                   3. (Missing)                         0 (  0.0%)                                                       

2   age            сред. знач. (с.о.) : 49.6 (18.3)   63 уникальные значения             .     .   . :    11             
    [numeric]      mин < мед < mакс:                                               : : : : :   : : : :    (2.25%)        
                   18 < 49.5 < 80                                                  : : : : : : : : : :                   
                   IQR (CV) : 32 (0.4)                                             : : : : : : : : : :                   
                                                                                   : : : : : : : : : :                   

3   age.gr         1. 18-34                           130 (26.6%)                  IIIII                  0              
    [factor]       2. 35-50                           118 (24.1%)                  IIII                   (0%)           
                   3. 51-70                           151 (30.9%)                  IIIIII                                
                   4. 71 +                             79 (16.2%)                  III                                   
                   5. (Missing)                        11 ( 2.2%)                                                        

4   BMI            сред. знач. (с.о.) : 25.3 (4)      477 уникальные значения                : .          12             
    [numeric]      mин < мед < mакс:                                                         : :          (2.45%)        
                   8.8 < 25.1 < 36.8                                                       : : : .                       
                   IQR (CV) : 5.4 (0.2)                                                    : : : : .                     
                                                                                         : : : : : :                     

5   smoker         1. Yes                             143 (29.2%)                  IIIII                  0              
    [factor]       2. No                              346 (70.8%)                  IIIIIIIIIIIIII         (0%)           

6   cigs.per.day   сред. знач. (с.о.) : 6.7 (11.8)    36 уникальные значения       :                      14             
    [numeric]      mин < мед < mакс:                                               :                      (2.86%)        
                   0 < 0 < 40                                                      :                                     
                   IQR (CV) : 11 (1.8)                                             :                                     
                                                                                   :   .   . . . .                       

7   diseased       1. Yes                             110 (22.5%)                  IIII                   0              
    [factor]       2. No                              379 (77.5%)                  IIIIIIIIIIIIIII        (0%)           

8   disease        1. Cancer                          18 (16.4%)                   III                    379            
    [character]    2. Hypertension                    17 (15.5%)                   III                    (77.51%)       
                   3. Cholesterol                     11 (10.0%)                   II                                    
                   4. Heart                           11 (10.0%)                   II                                    
                   5. Pulmonary                       11 (10.0%)                   II                                    
                   6. Musculoskeletal                 10 ( 9.1%)                   I                                     
                   7. Hearing                          9 ( 8.2%)                   I                                     
                   8. Digestive                        7 ( 6.4%)                   I                                     
                   9. Diabetes                         5 ( 4.5%)                                                         
                   10. Hypotension                     4 ( 3.6%)                                                         
                   [ 3 остальные ]                     7 ( 6.4%)                   I                                     

9   samp.wgts      сред. знач. (с.о.) : 1 (0.1)       0.86!: 131 (26.8%)           IIIII                  0              
    [numeric]      mин < мед < mакс:                  1.04!: 124 (25.4%)           IIIII                  (0%)           
                   0.9 < 1 < 1.1                      1.05!: 155 (31.7%)           IIIIII                                
                   IQR (CV) : 0.2 (0.1)               1.06!:  79 (16.2%)           III                                   
                                                      ! округлённое                                                      
-------------------------------------------------------------------------------------------------------------------------

Переменные: gender = (Missing)  
Измерения: 22 x 9  
Дупликаты: 0  

-------------------------------------------------------------------------------------------------------------------------
№   Переменная     Статистика / Значения              Частота (% действительных)   Диаграмма              Отсутствующее  
--- -------------- ---------------------------------- ---------------------------- ---------------------- ---------------
1   gender         1. F                                0 (  0.0%)                                         0              
    [factor]       2. M                                0 (  0.0%)                                         (0%)           
                   3. (Missing)                       22 (100.0%)                  IIIIIIIIIIIIIIIIIIII                  

2   age            сред. знач. (с.о.) : 50.9 (18.2)   18 уникальные значения               :              0              
    [numeric]      mин < мед < mакс:                                                 :     : :            (0%)           
                   19 < 55.5 < 80                                                    : :   : : :                         
                   IQR (CV) : 27.2 (0.4)                                             : : : : : :                         
                                                                                   : : : : : : :                         

3   age.gr         1. 18-34                           5 (22.7%)                    IIII                   0              
    [factor]       2. 35-50                           5 (22.7%)                    IIII                   (0%)           
                   3. 51-70                           9 (40.9%)                    IIIIIIII                              
                   4. 71 +                            3 (13.6%)                    II                                    
                   5. (Missing)                       0 ( 0.0%)                                                          

4   BMI            сред. знач. (с.о.) : 26.9 (3.5)    22 уникальные значения           :     :            0              
    [numeric]      mин < мед < mакс:                                                   : :   :            (0%)           
                   20.2 < 27.2 < 32.4                                              :   : : : :                           
                   IQR (CV) : 5.1 (0.1)                                            :   : : : :                           
                                                                                   : : : : : : :                         

5   smoker         1. Yes                              8 (36.4%)                   IIIIIII                0              
    [factor]       2. No                              14 (63.6%)                   IIIIIIIIIIII           (0%)           

6   cigs.per.day   сред. знач. (с.о.) : 6.1 (9.7)     0  : 14 (63.6%)              IIIIIIIIIIII           0              
    [numeric]      mин < мед < mакс:                  5  :  2 ( 9.1%)              I                      (0%)           
                   0 < 0 < 28                         10 :  1 ( 4.5%)                                                    
                   IQR (CV) : 8.8 (1.6)               19 :  1 ( 4.5%)                                                    
                                                      21 :  2 ( 9.1%)              I                                     
                                                      25 :  1 ( 4.5%)                                                    
                                                      28 :  1 ( 4.5%)                                                    

7   diseased       1. Yes                              3 (13.6%)                   II                     0              
    [factor]       2. No                              19 (86.4%)                   IIIIIIIIIIIIIIIII      (0%)           

8   disease        1. Diabetes                        1 (33.3%)                    IIIIII                 19             
    [character]    2. Hypertension                    1 (33.3%)                    IIIIII                 (86.36%)       
                   3. Musculoskeletal                 1 (33.3%)                    IIIIII                                

9   samp.wgts      сред. знач. (с.о.) : 1 (0.1)       0.86!: 5 (22.7%)             IIII                   0              
    [numeric]      mин < мед < mакс:                  1.04!: 5 (22.7%)             IIII                   (0%)           
                   0.9 < 1 < 1.1                      1.05!: 9 (40.9%)             IIIIIIII                              
                   IQR (CV) : 0 (0.1)                 1.06!: 3 (13.6%)             II                                    
                                                      ! округлённое                                                      
-------------------------------------------------------------------------------------------------------------------------

> dfs3 %>% view(file = "16-dfSummary-group_by.html")
Output file written
Output file appended

> dfs3 %>% view()
Output file written
Output file appended

> st_options("reset")
summarytools options have been reset

> detach("package:summarytools")

> detach("package:forcats")

> detach("package:dplyr")

> detach("package:magrittr")
